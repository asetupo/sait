# Импортируйте необходимые модули, если еще не импортированы
# добавьте в начало файла:
import os

# Создайте путь к файлу для хранения сайтов
SITES_FILE = 'sites.txt'

# Функция для сохранения сайта
def save_site(site_url, login, password):
    with open(SITES_FILE, 'a') as f:
        f.write(f'{site_url}:{login}:{password}\n')

@app.route('/add_site', methods=['GET', 'POST'])
def add_site():
    if 'username' not in session:
        return redirect(url_for('login'))
    if request.method == 'POST':
        site_url = request.form.get('site_url')
        login = request.form.get('site_login')
        password = request.form.get('site_password')
        if site_url and login and password:
            save_site(site_url, login, password)
            message = 'Данные сайта успешно сохранены!'
            return render_template('add_site.html', message=message)
        else:
            error = 'Пожалуйте, заполните все поля'
            return render_template('add_site.html', error=error)
    return render_template('add_site.html')
